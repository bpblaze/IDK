local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Key System Configuration
local Window = Rayfield:CreateWindow({
    Name = "Boostify V2",
    LoadingTitle = "Loading Ultimate Power-Up System...",
    LoadingSubtitle = "BOOSTIFYONTOP",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "BoostifyConfig",
        FileName = "PowerUps"
    },
    Discord = {
        Enabled = true,
        Invite = "noinvitelink",
        RememberJoins = true
    },
    KeySystem = true,
    KeySettings = {
        Title = "ðŸ”‘ Boostify V2 Key System",
        Subtitle = "Enter your key below",
        Note = "Key: BOOSTIFYONTOP",
        FileName = "BoostifyKeySystem",
        SaveKey = true,
        GrabKeyFromSite = false,
        Key = {"BOOSTIFYONTOP"}
    }
})

if not Window then return end

-- Services
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer
local Camera = Workspace.CurrentCamera

-- Variables
local AimlockTarget = nil
local AimlockEnabled = false
local SpeedValue = 16
local JumpValue = 50
local AntiRagdollEnabled = false
local AntiFlingEnabled = false
local FlyKeybindEnabled = false
local SpinEnabled = false
local SpinSpeed = 20
local GodmodeEnabled = false
local NoclipEnabled = false
local FlyActive = false

-- UI Setup (Main, Movement, Visuals, Combat, Fun) omitted for brevity...

-- GODMODE
CombatTab:CreateToggle({
    Name = "Godmode (Infinite Health)",
    CurrentValue = false,
    Flag = "GodmodeToggle",
    Callback = function(State)
        GodmodeEnabled = State
    end
})

-- NOCLIP
MovementTab:CreateToggle({
    Name = "Noclip",
    CurrentValue = false,
    Flag = "NoclipToggle",
    Callback = function(State)
        NoclipEnabled = State
    end
})

-- FLY (Fixed)
MovementTab:CreateToggle({
    Name = "Fly Mode (E Keybind)",
    CurrentValue = false,
    Flag = "FlyKeybindToggle",
    Callback = function(State)
        FlyKeybindEnabled = State
    end
})

UserInputService.InputBegan:Connect(function(input, processed)
    if not processed then
        if input.KeyCode == Enum.KeyCode.E and FlyKeybindEnabled then
            FlyActive = not FlyActive
            local char = LocalPlayer.Character
            if FlyActive and char and char:FindFirstChildOfClass("HumanoidRootPart") then
                RunService:BindToRenderStep("Flying", Enum.RenderPriority.Character.Value, function()
                    local hrp = char.HumanoidRootPart
                    local cam = Camera.CFrame
                    local moveVec = Vector3.new()
                    if UserInputService:IsKeyDown(Enum.KeyCode.W) then moveVec = moveVec + cam.LookVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.S) then moveVec = moveVec - cam.LookVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.A) then moveVec = moveVec - cam.RightVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.D) then moveVec = moveVec + cam.RightVector end
                    hrp.Velocity = moveVec.Unit * SpeedValue
                end)
            else
                RunService:UnbindFromRenderStep("Flying")
            end
        end
    end
end)

-- Render loop
RunService.RenderStepped:Connect(function()
    -- Spinbot
    if SpinEnabled and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = LocalPlayer.Character.HumanoidRootPart.CFrame * CFrame.Angles(0, math.rad(SpinSpeed), 0)
    end

    -- Noclip
    if NoclipEnabled and LocalPlayer.Character then
        for _, part in ipairs(LocalPlayer.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end

    -- Godmode
    if GodmodeEnabled and LocalPlayer.Character then
        local hum = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        if hum then
            hum.Health = hum.MaxHealth
        end
    end
end)

-- ESP (User & Healthbar)
RunService.Heartbeat:Connect(function()
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local char = player.Character
            if char and char:FindFirstChild("HumanoidRootPart") then
                -- Highlight
                if not char:FindFirstChild("ESPHighlight") then
                    local highlight = Instance.new("Highlight")
                    highlight.Name = "ESPHighlight"
                    highlight.FillColor = Color3.new(0, 1, 0)
                    highlight.OutlineColor = Color3.new(1, 1, 1)
                    highlight.Parent = char
                end
                -- Healthbar
                local hum = char:FindFirstChildOfClass("Humanoid")
                if hum and not char:FindFirstChild("HealthBillboard") then
                    local billboard = Instance.new("BillboardGui")
                    billboard.Name = "HealthBillboard"
                    billboard.Adornee = char:FindFirstChild("Head") or char:FindFirstChild("HumanoidRootPart")
                    billboard.Size = UDim2.new(0, 100, 0, 20)
                    billboard.StudsOffset = Vector3.new(0, 2, 0)
                    billboard.AlwaysOnTop = true
                    local bar = Instance.new("Frame", billboard)
                    bar.Name = "HealthBar"
                    bar.Size = UDim2.new(hum.Health / hum.MaxHealth, 0, 1, 0)
                    bar.BackgroundColor3 = Color3.new(0, 1, 0)
                    hum.HealthChanged:Connect(function()
                        bar.Size = UDim2.new(hum.Health / hum.MaxHealth, 0, 1, 0)
                        if hum.Health / hum.MaxHealth > 0.5 then
                            bar.BackgroundColor3 = Color3.new(0, 1, 0)
                        else
                            bar.BackgroundColor3 = Color3.new(1, 0.5, 0)
                        end
                    end)
                    billboard.Parent = char
                end
            end
        end
    end
end)

-- Respawn reapply & noclip fix
LocalPlayer.CharacterAdded:Connect(function(char)
    task.wait(1)
    local hum = char:FindFirstChildOfClass("Humanoid")
    if hum then
        hum.WalkSpeed = SpeedValue
        hum.JumpPower = JumpValue
    end
end)

Rayfield:Notify({
    Title = "Boostify V2 Loaded",
    Content = "All enhancements active!",
    Duration = 6.5,
    Image = 4483362458,
    Actions = {
        Okay = {Name = "Okay", Callback = function() end}
    },
})

print("Boostify V2 with Godmode, Noclip, Fixed Fly, ESP loaded! Key:", Window.KeySystem and "BOOSTIFYONTOP" or "N/A")
